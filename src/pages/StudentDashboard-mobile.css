/* ============================================================
   STUDENT DASHBOARD — MOBILE RESPONSIVE OVERRIDES
   Add these styles at the END of StudentDashboard.css
   and student-learning.css, or import separately.
   Breakpoints: 900px | 768px | 600px | 480px | 380px
   ============================================================ */

/* ============================================================
   CORE LAYOUT — SIDEBAR + MAIN
   ============================================================ */

/* On mobile, sidebar becomes a bottom bar or a slide-in drawer */
@media (max-width: 768px) {
  .student-dashboard-wrapper {
    flex-direction: column;
    min-height: 100svh;
  }

  /* Sidebar becomes a fixed bottom nav strip */
  .student-sidebar {
    width: 100% !important;
    height: 64px !important;
    position: fixed !important;
    bottom: 0;
    left: 0;
    right: 0;
    top: auto !important;
    z-index: 200;
    flex-direction: row;
    box-shadow: 0 -4px 20px rgba(0,0,0,0.25);
    overflow: hidden;
  }

  .student-sidebar.open,
  .student-sidebar.closed {
    width: 100% !important;
    height: 64px !important;
  }

  /* Hide sidebar elements not needed in bottom nav */
  .sidebar-header,
  .sidebar-profile-inline,
  .sidebar-footer {
    display: none !important;
  }

  /* Nav becomes horizontal scroll row */
  .sidebar-nav {
    flex-direction: row !important;
    overflow-x: auto !important;
    overflow-y: hidden !important;
    padding: 0 !important;
    gap: 0 !important;
    align-items: stretch;
    width: 100%;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }

  .sidebar-nav::-webkit-scrollbar {
    display: none;
  }

  /* Each nav item becomes a compact icon tab */
  .nav-item {
    flex-direction: column !important;
    gap: 3px !important;
    padding: 8px 14px !important;
    min-width: 64px !important;
    font-size: 10px !important;
    border-left: none !important;
    border-top: 3px solid transparent;
    justify-content: center !important;
    align-items: center !important;
    height: 100%;
    -webkit-tap-highlight-color: transparent;
  }

  .nav-item span {
    display: block !important;
    font-size: 10px !important;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 56px;
    text-align: center;
  }

  .nav-item i {
    font-size: 16px !important;
    min-width: unset !important;
  }

  .nav-item.active {
    border-left: none !important;
    border-top: 3px solid white;
    background: rgba(255,255,255,0.15) !important;
  }

  .nav-item.active::after {
    display: none !important;
  }

  .nav-badge {
    top: 4px !important;
    right: 8px !important;
    font-size: 9px !important;
    padding: 1px 4px !important;
    min-width: 14px !important;
  }

  /* Main content needs bottom padding so content isn't hidden behind nav */
  .student-main-content {
    padding-bottom: 72px;
    width: 100%;
  }
}

/* ============================================================
   HEADER
   ============================================================ */

@media (max-width: 768px) {
  .student-header {
    padding: 14px 16px !important;
    flex-direction: column !important;
    gap: 10px !important;
    align-items: flex-start !important;
  }

  .header-left h1 {
    font-size: 18px !important;
  }

  .welcome-subtitle {
    font-size: 12px !important;
  }

  .header-right {
    width: 100%;
    justify-content: space-between;
  }

  .student-info-pills {
    gap: 8px;
    flex-wrap: wrap;
  }

  .info-pill {
    padding: 5px 10px !important;
    font-size: 11px !important;
  }
}

@media (max-width: 480px) {
  .student-info-pills {
    display: none; /* save space on very small screens */
  }
}

/* ============================================================
   PROFILE INCOMPLETE ALERT
   ============================================================ */

@media (max-width: 768px) {
  .profile-incomplete-alert {
    position: fixed !important;
    top: auto !important;
    bottom: 72px !important;
    right: 0 !important;
    left: 0 !important;
    max-width: 100% !important;
    border-radius: 16px 16px 0 0 !important;
    margin: 0 !important;
    z-index: 199;
    padding: 16px !important;
  }

  .alert-actions {
    width: 100%;
    justify-content: stretch;
  }

  .alert-action-btn {
    flex: 1;
    justify-content: center;
  }
}

/* ============================================================
   TAB CONTENT & PADDING
   ============================================================ */

@media (max-width: 768px) {
  .tab-content {
    padding: 16px !important;
  }
}

@media (max-width: 480px) {
  .tab-content {
    padding: 12px 10px !important;
  }
}

/* ============================================================
   FACULTY REVIEW BANNER
   ============================================================ */

@media (max-width: 600px) {
  .faculty-review-banner {
    flex-direction: column !important;
    gap: 12px !important;
    padding: 14px 16px !important;
  }

  .frb-right {
    width: 100%;
    justify-content: space-between;
  }

  .frb-btn {
    flex: 1;
    justify-content: center;
  }
}

/* ============================================================
   OVERVIEW — STATS GRID
   ============================================================ */

@media (max-width: 900px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 14px !important;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: 1fr !important;
  }

  .stat-card {
    padding: 18px !important;
  }

  .stat-value {
    font-size: 28px !important;
  }
}

/* ============================================================
   OVERVIEW — QUICK INFO GRID
   ============================================================ */

@media (max-width: 768px) {
  .info-grid {
    grid-template-columns: 1fr !important;
    gap: 14px !important;
  }

  .recent-activity-card {
    padding: 20px !important;
  }
}

/* ============================================================
   ATTENDANCE SECTION
   ============================================================ */

@media (max-width: 768px) {
  .attendance-section {
    padding: 18px !important;
  }

  .section-header {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 8px !important;
  }

  .section-header h2 {
    font-size: 18px !important;
  }

  .year-dropdown-container,
  .year-dropdown-container-inline {
    flex-direction: column !important;
    align-items: stretch !important;
    gap: 8px !important;
  }

  .year-dropdown-select,
  .year-dropdown-select-inline {
    width: 100% !important;
    min-width: unset !important;
  }

  .year-summary-pill {
    justify-content: center;
  }

  /* Make attendance table horizontally scrollable */
  .attendance-table-container {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  .attendance-table th,
  .attendance-table td {
    padding: 10px 10px !important;
    font-size: 13px !important;
  }

  .remark-cell {
    display: none; /* hide on mobile to save space */
  }
}

/* ============================================================
   EXAMINATION SECTION
   ============================================================ */

@media (max-width: 768px) {
  .examination-section {
    padding: 18px !important;
  }

  .cgpa-display-header {
    gap: 6px;
  }

  .cgpa-value {
    font-size: 22px !important;
  }

  .semester-header-clickable {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 12px !important;
    padding: 16px !important;
  }

  .semester-performance {
    gap: 16px !important;
    flex-wrap: wrap;
  }

  .perf-value {
    font-size: 18px !important;
  }

  /* Scrollable exam table */
  .exam-table-wrapper {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
  }

  .exam-table-ia {
    font-size: 12px !important;
    min-width: 900px; /* force horizontal scroll */
  }

  .exam-table-ia th,
  .exam-table-ia td {
    padding: 8px 6px !important;
  }

  .semester-content-expanded {
    padding: 14px !important;
  }

  .calculation-info {
    padding: 12px !important;
  }

  .calculation-info p {
    font-size: 12px !important;
  }
}

/* ============================================================
   SESSIONS TAB
   ============================================================ */

@media (max-width: 900px) {
  .sessions-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

@media (max-width: 600px) {
  .sessions-section {
    padding: 16px !important;
  }

  .sessions-grid {
    grid-template-columns: 1fr !important;
  }

  .sessions-summary {
    flex-wrap: wrap !important;
    gap: 8px !important;
  }

  .summary-badge {
    font-size: 12px !important;
    padding: 6px 10px !important;
  }

  .session-card {
    padding: 16px !important;
  }

  .session-title {
    font-size: 16px !important;
  }

  .session-footer {
    flex-direction: column !important;
    gap: 10px !important;
    align-items: flex-start !important;
  }

  .session-actions {
    width: 100%;
  }

  .view-details-btn {
    flex: 1;
    justify-content: center;
  }

  .apply-btn,
  .cancel-apply-btn {
    flex: 1;
    justify-content: center;
  }

  .group-title {
    font-size: 16px !important;
  }
}

/* Session Modal — mobile */
@media (max-width: 600px) {
  .session-modal-overlay {
    padding: 0 !important;
    align-items: flex-end !important;
  }

  .session-modal-content {
    border-radius: 20px 20px 0 0 !important;
    max-height: 92svh !important;
    max-width: 100% !important;
    width: 100% !important;
  }

  .session-modal-header {
    padding: 20px 18px !important;
    border-radius: 20px 20px 0 0 !important;
  }

  .session-modal-header h2 {
    font-size: 18px !important;
  }

  .session-modal-body {
    padding: 16px !important;
  }

  .session-info-grid {
    grid-template-columns: 1fr 1fr !important;
    gap: 10px !important;
  }

  .info-card {
    padding: 12px !important;
  }

  .info-card p {
    font-size: 13px !important;
  }

  .apply-cta {
    flex-direction: column !important;
  }

  .btn-apply-modal,
  .btn-cancel-application {
    width: 100%;
    justify-content: center;
  }

  .applied-confirmation {
    flex-wrap: wrap;
  }

  .btn-cancel-application {
    margin-left: 0 !important;
  }

  .session-modal-footer {
    padding: 12px 16px !important;
  }
}

/* ============================================================
   CHART MODALS (ATTENDANCE + SEMESTER ANALYTICS)
   ============================================================ */

@media (max-width: 768px) {
  .chart-modal-overlay {
    padding: 0 !important;
    align-items: flex-end !important;
  }

  .chart-modal-content-xl {
    width: 100% !important;
    max-width: 100% !important;
    max-height: 92svh !important;
    border-radius: 20px 20px 0 0 !important;
  }

  .chart-modal-header {
    border-radius: 20px 20px 0 0 !important;
    padding: 18px 16px !important;
  }

  .chart-modal-header h2 {
    font-size: 16px !important;
  }

  .chart-modal-body {
    padding: 16px !important;
  }

  .chart-container-modal-large,
  .chart-container-modal,
  .chart-container-modal-medium {
    height: 220px !important;
    padding: 10px !important;
  }

  .chart-stats-grid {
    flex-wrap: wrap !important;
    gap: 10px !important;
  }

  .chart-stat-card {
    min-width: calc(50% - 8px) !important;
    padding: 12px !important;
  }

  .chart-stat-value {
    font-size: 22px !important;
  }

  .chart-grid-2col {
    grid-template-columns: 1fr !important;
  }

  /* Semester details table in modal */
  .semester-details-table {
    overflow-x: auto;
  }

  .semester-details-table table {
    min-width: 500px;
  }

  .cgpa-summary {
    flex-direction: column !important;
    text-align: center !important;
    gap: 6px !important;
  }

  .cgpa-summary strong {
    font-size: 24px !important;
  }
}

/* ============================================================
   PROFILE TAB
   ============================================================ */

@media (max-width: 768px) {
  .profile-section {
    max-width: 100% !important;
  }

  .profile-view-toggle {
    width: 100% !important;
  }

  .toggle-btn {
    flex: 1;
    justify-content: center !important;
    padding: 10px 8px !important;
    font-size: 13px !important;
  }

  .profile-completion-card {
    padding: 16px !important;
  }

  /* Card View */
  .profile-header-section {
    flex-direction: column !important;
    align-items: center !important;
    text-align: center !important;
    padding: 24px 18px !important;
    gap: 16px !important;
  }

  .profile-photo-display {
    width: 100px !important;
    height: 100px !important;
  }

  .profile-basic-info h2 {
    font-size: 20px !important;
  }

  .btn-edit-profile {
    width: 100%;
    justify-content: center;
  }

  .profile-section-card {
    padding: 18px !important;
  }

  .details-grid,
  .form-grid {
    grid-template-columns: 1fr !important;
  }

  .academic-grid,
  .parent-grid {
    grid-template-columns: 1fr !important;
  }

  /* Edit mode header */
  .edit-header {
    flex-direction: column !important;
    gap: 12px !important;
    padding: 18px !important;
  }

  .edit-actions {
    width: 100%;
  }

  .btn-cancel,
  .btn-save {
    flex: 1;
    justify-content: center;
  }

  .photo-upload-section {
    flex-direction: column !important;
    align-items: center !important;
    gap: 16px !important;
  }

  .photo-preview {
    width: 100px !important;
    height: 100px !important;
  }

  .resume-upload-section {
    flex-direction: column !important;
  }
}

/* Form View (table-style profile) */
@media (max-width: 768px) {
  .profile-display-header {
    flex-direction: column !important;
    gap: 16px !important;
  }

  .profile-photo-large {
    width: 100px !important;
    height: 120px !important;
    margin: 0 auto;
  }

  .details-table td {
    padding: 8px 10px !important;
    font-size: 12px !important;
  }

  .label-cell {
    width: 90px !important;
    font-size: 11px !important;
  }

  /* Overflow scroll for tables */
  .academic-record-section,
  .parents-details-section,
  .hobbies-section {
    overflow-x: auto;
  }

  .academic-table,
  .parents-table,
  .hobbies-table {
    min-width: 500px;
    font-size: 11px !important;
  }
}

/* ============================================================
   STUDENT DASHBOARD SHOWCASE (sds-*)
   ============================================================ */

@media (max-width: 900px) {
  .sds-stats-strip {
    grid-template-columns: repeat(3, 1fr) !important;
  }

  .sds-quick-grid {
    grid-template-columns: repeat(3, 1fr) !important;
  }
}

@media (max-width: 600px) {
  .sds-next-session {
    flex-direction: column !important;
    padding: 20px 18px !important;
    gap: 20px !important;
    border-radius: 16px !important;
  }

  .sds-next-title {
    font-size: 17px !important;
  }

  .sds-next-meta-row {
    gap: 6px !important;
  }

  .sds-next-right {
    align-items: flex-start !important;
    flex-direction: row !important;
    flex-wrap: wrap !important;
    gap: 12px !important;
    width: 100%;
  }

  .sds-countdown {
    padding: 14px 20px !important;
    min-width: 110px !important;
  }

  .sds-countdown-val {
    font-size: 22px !important;
  }

  .sds-next-bullets {
    flex: 1;
    min-width: 140px;
  }

  .sds-stats-strip {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 10px !important;
  }

  .sds-stat-chip {
    padding: 12px 10px !important;
    gap: 8px !important;
  }

  .sds-stat-chip-val {
    font-size: 16px !important;
  }

  .sds-stat-chip-label {
    font-size: 9px !important;
  }

  .sds-quick-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 10px !important;
  }

  .sds-quick-card {
    padding: 14px 12px !important;
    gap: 10px !important;
  }

  .sds-quick-label {
    font-size: 12px !important;
  }

  .sds-applied-strip {
    grid-template-columns: 1fr !important;
  }

  .sds-no-sessions {
    flex-direction: column !important;
    gap: 12px !important;
    text-align: center !important;
  }

  .sds-view-btn-alt {
    margin-left: 0 !important;
    width: 100%;
    justify-content: center;
  }
}

/* ============================================================
   TODO WIDGET
   ============================================================ */

@media (max-width: 600px) {
  .todo-widget {
    padding: 18px !important;
  }

  .todo-title-row {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 12px !important;
  }

  .todo-header-actions {
    width: 100%;
    justify-content: flex-end;
  }

  .todo-add-btn {
    flex: 1;
    justify-content: center;
  }

  .todo-form-row {
    flex-direction: column !important;
  }

  .todo-form-row select,
  .todo-form-row input[type="date"] {
    min-width: unset !important;
    width: 100% !important;
  }

  .todo-save-btn {
    width: 100%;
    justify-content: center;
  }

  .todo-filters {
    gap: 6px;
    flex-wrap: wrap;
  }

  .todo-filter-btn {
    flex: 1;
    text-align: center;
    justify-content: center;
    min-width: 80px;
  }
}

/* ============================================================
   NOTIFICATION BELL
   ============================================================ */

@media (max-width: 600px) {
  .notif-dropdown {
    width: calc(100vw - 20px) !important;
    right: -10px !important;
    left: auto !important;
    max-height: 80svh !important;
    border-radius: 16px !important;
  }
}

/* ============================================================
   DOCUMENT VAULT
   ============================================================ */

@media (max-width: 768px) {
  .vault-section {
    padding: 18px !important;
  }

  .vault-title-row {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 10px !important;
  }

  .vault-security-badge {
    font-size: 11px !important;
    padding: 6px 12px !important;
  }

  .vault-grid {
    grid-template-columns: 1fr !important;
  }

  .vault-preview-overlay {
    padding: 0 !important;
    align-items: flex-end !important;
  }

  .vault-preview-modal {
    border-radius: 20px 20px 0 0 !important;
    max-height: 92svh !important;
    max-width: 100% !important;
  }
}

/* ============================================================
   CERTIFICATIONS WIDGET
   ============================================================ */

@media (max-width: 768px) {
  .certs-section {
    padding: 18px !important;
  }

  .certs-title-row {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 12px !important;
  }

  .certs-add-btn {
    width: 100%;
    justify-content: center;
  }

  .certs-stats-row {
    flex-wrap: wrap;
    gap: 8px;
  }

  .certs-form-grid {
    grid-template-columns: 1fr !important;
  }

  .certs-grid {
    grid-template-columns: 1fr !important;
  }

  .certs-filters {
    gap: 6px;
    flex-wrap: wrap;
  }

  .cert-filter-btn {
    flex: 1;
    min-width: 80px;
    text-align: center;
  }

  .cert-preview-overlay {
    padding: 0 !important;
    align-items: flex-end !important;
  }

  .cert-preview-modal {
    border-radius: 20px 20px 0 0 !important;
    max-height: 92svh !important;
    max-width: 100% !important;
  }
}

/* ============================================================
   BROADCAST MESSAGES
   ============================================================ */

@media (max-width: 600px) {
  .broadcast-section {
    padding: 18px !important;
  }

  .broadcast-title-row {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 10px !important;
  }

  .broadcast-header-right {
    width: 100%;
    justify-content: space-between;
  }

  .broadcast-item-header {
    padding: 12px 14px !important;
  }

  .broadcast-item-top {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 4px !important;
  }

  .broadcast-subject {
    font-size: 13px !important;
  }

  .broadcast-item-body {
    padding: 14px !important;
  }
}

/* ============================================================
   FOOTER
   ============================================================ */

@media (max-width: 900px) {
  .footer-inner {
    grid-template-columns: 1fr 1fr !important;
    gap: 24px !important;
    padding: 30px 20px !important;
  }
}

@media (max-width: 600px) {
  .footer-inner {
    grid-template-columns: 1fr !important;
    gap: 20px !important;
    padding: 24px 16px !important;
  }

  .footer-bottom {
    padding: 14px 16px !important;
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 8px !important;
    font-size: 11px !important;
  }

  .footer-bottom-links {
    font-size: 11px !important;
  }
}

/* Footer modals on mobile */
@media (max-width: 600px) {
  .footer-modal-overlay {
    padding: 0 !important;
    align-items: flex-end !important;
  }

  .footer-modal,
  .footer-modal-wide {
    max-width: 100% !important;
    max-height: 90svh !important;
    border-radius: 20px 20px 0 0 !important;
  }

  .footer-modal-body {
    padding: 20px 16px !important;
  }

  .footer-contact-cards {
    gap: 10px !important;
  }

  .footer-contact-card {
    flex-direction: column !important;
    gap: 10px !important;
  }
}

/* ============================================================
   GLOBAL TOUCH IMPROVEMENTS
   ============================================================ */

@media (max-width: 768px) {
  /* Better tap targets */
  button {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }

  /* Prevent text selection on tapping interactive elements */
  .nav-item,
  .session-card,
  .stat-card,
  .vault-card-header,
  .broadcast-item-header,
  .semester-header-clickable {
    -webkit-tap-highlight-color: transparent;
    user-select: none;
  }

  /* Minimum tap target size */
  .modal-close-btn,
  .vault-close-btn,
  .cert-close-btn,
  .footer-modal-header button {
    min-width: 44px;
    min-height: 44px;
  }

  /* Smooth scroll everywhere */
  .session-modal-content,
  .chart-modal-content-xl,
  .vault-preview-body,
  .cert-preview-body,
  .footer-modal-body {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }
}

/* ============================================================
   VERY SMALL SCREENS (320–380px)
   ============================================================ */

@media (max-width: 380px) {
  .student-header {
    padding: 12px !important;
  }

  .header-left h1 {
    font-size: 16px !important;
  }

  .tab-content {
    padding: 10px 8px !important;
  }

  .sds-next-session {
    padding: 16px 14px !important;
  }

  .sds-quick-grid {
    grid-template-columns: 1fr 1fr !important;
    gap: 8px !important;
  }

  .sds-stats-strip {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 8px !important;
  }

  .stat-card {
    padding: 14px !important;
    gap: 12px !important;
  }

  .stat-value {
    font-size: 24px !important;
  }

  .session-card {
    padding: 14px !important;
  }

  .session-title {
    font-size: 14px !important;
  }

  .nav-item {
    min-width: 56px !important;
    padding: 6px 10px !important;
  }

  .nav-item span {
    font-size: 9px !important;
    max-width: 48px !important;
  }
}